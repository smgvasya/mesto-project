(()=>{"use strict";var e,t=function(e,t,o){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?t.classList.remove(o.buttonDisabledSelector):t.classList.add(o.buttonDisabledSelector)},o=function(e,o){var r=Array.from(e.querySelectorAll(o.inputSelector)),n=e.querySelector(o.buttonSelector);t(r,n,o),r.forEach((function(c){c.addEventListener("input",(function(){!function(e,t,o){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?function(e,t,o){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(o.errorSelector),r.classList.remove(o.errorActiveSelector),r.textContent=""}(e,t,o):function(e,t,o,r){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r.errorSelector),n.textContent=o,n.classList.add(r.errorActiveSelector)}(e,t,t.validationMessage,o)}(e,c,o),t(r,n,o)}))}))},r=document.querySelector(".profile__button"),n=document.querySelector(".profile__button-photo"),c=document.querySelector("#popup-profile"),i=(document.querySelector("#popup-profile-close"),document.querySelector(".profile__name")),u=document.querySelector(".profile__about"),l=document.querySelector("#edit-profile-name"),a=document.querySelector("#edit-profile-about"),f=document.querySelector("#form-profile"),s=document.querySelector("#edit-mesto"),d=document.querySelector("#popup-mesto"),p=(document.querySelector("#popup-mesto-close"),document.querySelector("#popup-photo")),m=(document.querySelector("#popup-photo-close"),document.querySelector(".popup__img")),y=document.querySelector(".popup__photo-title"),v=document.querySelector(".elements__container"),S=(document.querySelector(".elements"),document.querySelector("#edit-mesto-title")),b=document.querySelector("#edit-mesto-link"),_=document.querySelectorAll(".popup__close"),x=[{name:"До встречи!",link:"https://images.unsplash.com/photo-1599833975787-5c143f373c30?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1528&q=80"},{name:"Вернулись в Лондон",link:"https://images.unsplash.com/photo-1529655683826-aba9b3e77383?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=765&q=80"},{name:"Показываем Розе конец земли",link:"https://images.unsplash.com/photo-1653525749885-46a75af1eb5d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1364&q=80"},{name:"Запарковал?!",link:"https://images.unsplash.com/photo-1655315149741-177f3aad852b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1332&q=80"},{name:"Никогда не надоест",link:"https://images.unsplash.com/photo-1575824928808-abc8ae6cfbfc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1474&q=80"},{name:"В пути",link:"https://img.freepik.com/free-photo/3d-hyperspace-background-with-warp-tunnel-effect_1048-12526.jpg?t=st=1661697965~exp=1661698565~hmac=e9126f3e9d8afbc6d5a1cf66aec58da0771c53ae0f8169607bc70dc1a4804657"}];function q(e){e.classList.add("popup_opened"),document.addEventListener("keydown",k)}function h(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",k)}function k(e){var t=document.querySelectorAll(".popup");"Escape"===e.key&&t.forEach((function(e){return e.classList.remove("popup_opened")}))}function w(e){v.prepend(function(e){var t=document.querySelector("#card-template").content.querySelector(".element").cloneNode(!0),o=t.querySelector(".element__photo");return t.querySelector(".element__title").textContent=e.name,o.src=e.link,o.alt=e.name,t.querySelector(".element__button-trash").addEventListener("click",(function(e){t.remove()})),t.querySelector(".element__button-like").addEventListener("click",(function(e){e.target.classList.toggle("element__button-like_active")})),o.addEventListener("click",(function(){m.src=e.link,y.textContent=e.name,m.alt=e.name,q(p)})),t}(e))}x.reverse(),f.addEventListener("submit",(function(e){e.preventDefault(),i.textContent=l.value,u.textContent=a.value,h(c)})),r.addEventListener("click",(function(){l.value=i.textContent,a.value=u.textContent,q(c)})),_.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return h(t)})),function(e){e.addEventListener("click",(function(t){t.target===t.currentTarget&&h(e)}))}(t)})),n.addEventListener("click",(function(){q(d)})),x.forEach(w),s.addEventListener("submit",(function(e){e.preventDefault(),w({name:S.value,link:b.value}),h(d),e.target.reset()})),e={formSelector:".form",inputSelector:".form__profile-input",buttonSelector:".form__profile-submit",buttonDisabledSelector:"form__disable-submit",errorSelector:"form__profile-error",errorActiveSelector:"form__input-error_active"},Array.from(document.querySelectorAll(e.formSelector)).forEach((function(t){t.addEventListener("submit",(function(r){r.preventDefault(),o(t,e)})),o(t,e)}))})();